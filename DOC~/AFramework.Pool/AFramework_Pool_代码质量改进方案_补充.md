# AFramework.Pool å¯¹è±¡æ± ç³»ç»Ÿ - ä»£ç è´¨é‡æ”¹è¿›æ–¹æ¡ˆï¼ˆè¡¥å……æ–‡æ¡£ï¼‰

> **ç‰ˆæœ¬**: 1.0.0  
> **æ›´æ–°æ—¥æœŸ**: 2026-01-19  
> **é€‚ç”¨ Unity ç‰ˆæœ¬**: 2022.3 LTS ~ Unity 6.x  
> **æ–‡æ¡£ç±»å‹**: ä»£ç è´¨é‡è¯„å®¡ä¸æ”¹è¿›æ–¹æ¡ˆè¡¥å……

---

## ğŸ“‹ æ–‡æ¡£è¯´æ˜

æœ¬æ–‡æ¡£æ˜¯ã€ŠAFramework_Pool_ä»£ç è´¨é‡æ”¹è¿›æ–¹æ¡ˆ.mdã€‹çš„è¡¥å……æ–‡æ¡£ï¼Œæä¾›æ›´è¯¦ç»†çš„æŠ€æœ¯åˆ†æå’Œå®æ–½æŒ‡å¯¼ã€‚

å»ºè®®å…ˆé˜…è¯»ä¸»æ–‡æ¡£ï¼Œå†é˜…è¯»æœ¬è¡¥å……æ–‡æ¡£ã€‚

---

## ğŸ”¬ ç¬¬åä¸‰éƒ¨åˆ†ï¼šä»£ç ç»†èŠ‚åˆ†æ

### 13.1 å‘½åç©ºé—´ç»„ç»‡åˆ†æ

**å½“å‰å‘½åç©ºé—´ç»“æ„**

```
AFramework.Pool
â”œâ”€â”€ Core
â”‚   â”œâ”€â”€ Interfaces
â”‚   â”œâ”€â”€ Abstracts
â”‚   â”œâ”€â”€ Enums
â”‚   â”œâ”€â”€ Exceptions
â”‚   â””â”€â”€ Components
â”œâ”€â”€ Pools
â”‚   â”œâ”€â”€ Generic
â”‚   â”œâ”€â”€ Specialized
â”‚   â””â”€â”€ Unity
â”œâ”€â”€ Policies
â”‚   â”œâ”€â”€ Creation
â”‚   â”œâ”€â”€ Cleanup
â”‚   â”œâ”€â”€ Capacity
â”‚   â””â”€â”€ Lifecycle
â”œâ”€â”€ Tracking
â”‚   â”œâ”€â”€ Statistics
â”‚   â””â”€â”€ Diagnostics
â”œâ”€â”€ DI
â”‚   â”œâ”€â”€ Registration
â”‚   â””â”€â”€ Resolution
â”œâ”€â”€ Extensions
â”œâ”€â”€ Utilities
â””â”€â”€ Warming
```

**ä¼˜åŠ¿åˆ†æ**
- å‘½åç©ºé—´å±‚æ¬¡æ¸…æ™°ï¼Œæœ€å¤šä¸‰å±‚
- åŠŸèƒ½æ¨¡å—åˆ’åˆ†åˆç†
- ç¬¦åˆ Unity å‘½åè§„èŒƒ

**æ”¹è¿›å»ºè®®**
- è€ƒè™‘å°† Warming åˆå¹¶åˆ° Utilities
- è€ƒè™‘å°† Components æå‡åˆ°é¡¶å±‚
- æ·»åŠ  Configuration å‘½åç©ºé—´
- æ·»åŠ  Events å‘½åç©ºé—´

### 13.2 ç±»å‹å‘½ååˆ†æ

**æ¥å£å‘½åè§„èŒƒ**

å½“å‰è§„èŒƒï¼š
- IObjectPool, IObjectPool<T>
- IPoolPolicy, IPoolCreationPolicy<T>
- IPoolDiagnostics, IPoolStatistics

ä¼˜åŠ¿ï¼š
- éµå¾ª .NET å‘½åè§„èŒƒï¼ˆI å‰ç¼€ï¼‰
- æ³›å‹å‚æ•°å‘½åæ¸…æ™°ï¼ˆT, TItemï¼‰
- æ¥å£èŒè´£æ˜ç¡®

æ”¹è¿›å»ºè®®ï¼š
- ç»Ÿä¸€æ³›å‹å‚æ•°å‘½åï¼ˆç»Ÿä¸€ä½¿ç”¨ T æˆ– TItemï¼‰
- æ·»åŠ æ¥å£ç‰ˆæœ¬æ ‡è®°ï¼ˆIObjectPoolV2ï¼‰
- è€ƒè™‘æ·»åŠ æ¥å£åˆ«åï¼ˆusing Pool = IObjectPool<T>ï¼‰

**ç±»å‘½åè§„èŒƒ**

å½“å‰è§„èŒƒï¼š
- ObjectPool<T>, StackObjectPool<T>
- GameObjectPool, ComponentPool<T>
- DefaultCreationPolicy<T>

ä¼˜åŠ¿ï¼š
- å‘½åæ¸…æ™°ï¼Œæ˜“äºç†è§£
- æ³›å‹ç±»å‘½åè§„èŒƒ
- ç­–ç•¥ç±»å‘½åç»Ÿä¸€

æ”¹è¿›å»ºè®®ï¼š
- ç»Ÿä¸€ Unity ç›¸å…³ç±»å‰ç¼€ï¼ˆUnity.GameObjectPoolï¼‰
- ç»Ÿä¸€ç­–ç•¥ç±»åç¼€ï¼ˆæ‰€æœ‰ç­–ç•¥ç±»éƒ½ä»¥ Policy ç»“å°¾ï¼‰
- è€ƒè™‘æ·»åŠ ç±»åˆ«å‰ç¼€ï¼ˆGeneric.ObjectPool, Unity.GameObjectPoolï¼‰

**æ–¹æ³•å‘½åè§„èŒƒ**

å½“å‰è§„èŒƒï¼š
- Get(), Return(), Clear()
- Warmup(), Shrink(), Dispose()
- GetStatistics(), DetectLeaks()

ä¼˜åŠ¿ï¼š
- æ–¹æ³•åç®€æ´æ˜äº†
- éµå¾ª .NET å‘½åè§„èŒƒï¼ˆPascalCaseï¼‰
- åŠ¨è¯å¼€å¤´ï¼Œè¡¨æ„æ¸…æ™°

æ”¹è¿›å»ºè®®ï¼š
- å¼‚æ­¥æ–¹æ³•æ·»åŠ  Async åç¼€ï¼ˆGetAsync, ReturnAsyncï¼‰
- æ‰¹é‡æ“ä½œæ·»åŠ  Many åç¼€ï¼ˆGetMany, ReturnManyï¼‰
- æ¡ä»¶æ“ä½œæ·»åŠ  Try å‰ç¼€ï¼ˆTryGet, TryReturnï¼‰
- æŸ¥è¯¢æ“ä½œä½¿ç”¨ç–‘é—®è¯ï¼ˆContains, Existsï¼‰


### 13.3 å­—æ®µå’Œå±æ€§å‘½ååˆ†æ

**å­—æ®µå‘½åè§„èŒƒ**

å½“å‰è§„èŒƒï¼š
- ç§æœ‰å­—æ®µï¼š_camelCaseï¼ˆ_pool, _capacityï¼‰
- å—ä¿æŠ¤å­—æ®µï¼š_camelCaseï¼ˆ_syncRoot, _disposedï¼‰
- å¸¸é‡å­—æ®µï¼šPascalCaseï¼ˆDefaultCapacityï¼‰

ä¼˜åŠ¿ï¼š
- éµå¾ª .NET å‘½åè§„èŒƒ
- ç§æœ‰å­—æ®µä¸‹åˆ’çº¿å‰ç¼€æ¸…æ™°
- å¸¸é‡å‘½åè§„èŒƒ

æ”¹è¿›å»ºè®®ï¼š
- ç»Ÿä¸€çº¿ç¨‹å®‰å…¨å­—æ®µå‘½åï¼ˆ_syncLock æˆ– _lockObjectï¼‰
- ç»Ÿä¸€çŠ¶æ€å­—æ®µå‘½åï¼ˆ_state æˆ– _poolStateï¼‰
- è€ƒè™‘ä½¿ç”¨ readonly ä¿®é¥°ä¸å¯å˜å­—æ®µ

**å±æ€§å‘½åè§„èŒƒ**

å½“å‰è§„èŒƒï¼š
- å…¬å…±å±æ€§ï¼šPascalCaseï¼ˆCapacity, Countï¼‰
- åªè¯»å±æ€§ï¼šPascalCaseï¼ˆIsDisposed, Stateï¼‰
- ç´¢å¼•å™¨ï¼šthis[int index]

ä¼˜åŠ¿ï¼š
- éµå¾ª .NET å‘½åè§„èŒƒ
- å±æ€§åç®€æ´æ˜äº†
- åªè¯»å±æ€§æ¸…æ™°

æ”¹è¿›å»ºè®®ï¼š
- å¸ƒå°”å±æ€§ä½¿ç”¨ Is/Has/Can å‰ç¼€
- é›†åˆå±æ€§ä½¿ç”¨å¤æ•°å½¢å¼ï¼ˆItems, Objectsï¼‰
- è€ƒè™‘ä½¿ç”¨è¡¨è¾¾å¼ä¸»ä½“å±æ€§ï¼ˆ=> è¯­æ³•ï¼‰

### 13.4 äº‹ä»¶å‘½ååˆ†æ

**å½“å‰çŠ¶æ€**
- ç¼ºå°‘äº‹ä»¶ç³»ç»Ÿ

**æ”¹è¿›å»ºè®®**

äº‹ä»¶å‘½åè§„èŒƒï¼š
- äº‹ä»¶åä½¿ç”¨è¿‡å»å¼ï¼ˆObjectGot, ObjectReturnedï¼‰
- äº‹ä»¶å¤„ç†å™¨ä½¿ç”¨ EventHandler<TEventArgs>
- äº‹ä»¶å‚æ•°ç±»ä½¿ç”¨ EventArgs åç¼€

ç¤ºä¾‹ï¼š
```
// äº‹ä»¶å®šä¹‰
public event EventHandler<ObjectGetEventArgs> ObjectGot;
public event EventHandler<ObjectReturnEventArgs> ObjectReturned;

// äº‹ä»¶å‚æ•°
public class ObjectGetEventArgs : EventArgs
{
    public T Object { get; }
    public TimeSpan Duration { get; }
}
```

---

## ğŸ§© ç¬¬åå››éƒ¨åˆ†ï¼šä¾èµ–æ³¨å…¥é›†æˆåˆ†æ

### 14.1 å½“å‰ DI é›†æˆåˆ†æ

**PoolInstaller åˆ†æ**

ä¼˜åŠ¿ï¼š
- é›†æˆ VContainer å®Œå–„
- æ³¨å†Œæ–¹å¼çµæ´»
- ç”Ÿå‘½å‘¨æœŸç®¡ç†æ­£ç¡®

æ”¹è¿›å»ºè®®ï¼š
- æ·»åŠ æ¡ä»¶æ³¨å†Œï¼ˆConditionalRegistrationï¼‰
- æ·»åŠ æ‰¹é‡æ³¨å†Œï¼ˆBatchRegistrationï¼‰
- æ·»åŠ è‡ªåŠ¨æ‰«æï¼ˆAutoScanï¼‰
- æ”¯æŒé…ç½®æ–‡ä»¶æ³¨å†Œï¼ˆConfigurationRegistrationï¼‰

**PoolResolver åˆ†æ**

ä¼˜åŠ¿ï¼š
- è§£æé€»è¾‘æ¸…æ™°
- æ”¯æŒæ³›å‹è§£æ
- æ”¯æŒä½œç”¨åŸŸè§£æ

æ”¹è¿›å»ºè®®ï¼š
- æ·»åŠ å»¶è¿Ÿè§£æï¼ˆLazyResolveï¼‰
- æ·»åŠ æ¡ä»¶è§£æï¼ˆConditionalResolveï¼‰
- æ·»åŠ å·¥å‚è§£æï¼ˆFactoryResolveï¼‰
- æ”¯æŒå‘½åè§£æï¼ˆNamedResolveï¼‰

**ScopedPoolManager åˆ†æ**

ä¼˜åŠ¿ï¼š
- ä½œç”¨åŸŸç®¡ç†å®Œå–„
- ç”Ÿå‘½å‘¨æœŸæ­£ç¡®
- èµ„æºé‡Šæ”¾è§„èŒƒ

æ”¹è¿›å»ºè®®ï¼š
- æ·»åŠ ä½œç”¨åŸŸåµŒå¥—æ”¯æŒï¼ˆNestedScopeï¼‰
- æ·»åŠ ä½œç”¨åŸŸéš”ç¦»ï¼ˆScopeIsolationï¼‰
- æ·»åŠ ä½œç”¨åŸŸå…±äº«ï¼ˆScopeSharingï¼‰
- æ”¯æŒä½œç”¨åŸŸäº‹ä»¶ï¼ˆScopeEventsï¼‰

### 14.2 å¤š DI å®¹å™¨æ”¯æŒ

**æ”¯æŒçš„å®¹å™¨**
- VContainerï¼ˆå·²æ”¯æŒï¼‰

**å»ºè®®æ”¯æŒçš„å®¹å™¨**
- Zenject/Extenject
- Microsoft.Extensions.DependencyInjection
- Autofac
- Unity Container

**å®ç°æ–¹æ¡ˆ**

åˆ›å»ºé€‚é…å™¨å±‚ï¼š
```
IDIAdapter (æ–°å¢)
â”œâ”€â”€ Register<T>()
â”œâ”€â”€ Resolve<T>()
â”œâ”€â”€ CreateScope()
â””â”€â”€ Dispose()

VContainerAdapter (å·²æœ‰)
ZenjectAdapter (æ–°å¢)
MicrosoftDIAdapter (æ–°å¢)
AutofacAdapter (æ–°å¢)
```

### 14.3 DI æœ€ä½³å®è·µ

**æ³¨å†Œæœ€ä½³å®è·µ**

1. æ¥å£æ³¨å†Œ
   - ä¼˜å…ˆæ³¨å†Œæ¥å£è€Œéå…·ä½“ç±»
   - ä½¿ç”¨æ³›å‹æ³¨å†Œæ”¯æŒå¤šç§ç±»å‹
   - é¿å…å¾ªç¯ä¾èµ–

2. ç”Ÿå‘½å‘¨æœŸé€‰æ‹©
   - Singletonï¼šå…¨å±€å…±äº«æ± 
   - Scopedï¼šåœºæ™¯çº§æ± 
   - Transientï¼šä¸´æ—¶æ± ï¼ˆä¸æ¨èï¼‰

3. é…ç½®æ³¨å…¥
   - ä½¿ç”¨ IOptions<T> æ¨¡å¼
   - æ”¯æŒé…ç½®çƒ­æ›´æ–°
   - éªŒè¯é…ç½®æœ‰æ•ˆæ€§

**è§£ææœ€ä½³å®è·µ**

1. æ„é€ å‡½æ•°æ³¨å…¥
   - ä¼˜å…ˆä½¿ç”¨æ„é€ å‡½æ•°æ³¨å…¥
   - é¿å…è¿‡å¤šä¾èµ–ï¼ˆæœ€å¤š 5 ä¸ªï¼‰
   - ä½¿ç”¨æ¥å£è€Œéå…·ä½“ç±»

2. å±æ€§æ³¨å…¥
   - ä»…ç”¨äºå¯é€‰ä¾èµ–
   - ä½¿ç”¨ [Inject] ç‰¹æ€§æ ‡è®°
   - æä¾›é»˜è®¤å€¼

3. æ–¹æ³•æ³¨å…¥
   - ç”¨äºåˆå§‹åŒ–æ–¹æ³•
   - ä½¿ç”¨ [Inject] ç‰¹æ€§æ ‡è®°
   - é¿å…å¤æ‚é€»è¾‘

---

## ğŸ¯ ç¬¬åäº”éƒ¨åˆ†ï¼šUnity é›†æˆä¼˜åŒ–

### 15.1 GameObject æ± ä¼˜åŒ–

**å½“å‰å®ç°åˆ†æ**

ä¼˜åŠ¿ï¼š
- SetActive ç®¡ç†æ­£ç¡®
- Transform çˆ¶çº§ç®¡ç†è§„èŒƒ
- DontDestroyOnLoad æ”¯æŒå®Œå–„

æ”¹è¿›å»ºè®®ï¼š

1. é¢„åˆ¶ä½“ç®¡ç†ä¼˜åŒ–
   - æ”¯æŒé¢„åˆ¶ä½“å˜ä½“ï¼ˆPrefab Variantï¼‰
   - æ”¯æŒåµŒå¥—é¢„åˆ¶ä½“ï¼ˆNested Prefabï¼‰
   - æ”¯æŒé¢„åˆ¶ä½“è¦†ç›–ï¼ˆPrefab Overrideï¼‰

2. å±‚çº§ç®¡ç†ä¼˜åŒ–
   - æ”¯æŒè‡ªå®šä¹‰çˆ¶çº§ï¼ˆCustom Parentï¼‰
   - æ”¯æŒå±‚çº§éš”ç¦»ï¼ˆHierarchy Isolationï¼‰
   - æ”¯æŒå±‚çº§æŠ˜å ï¼ˆHierarchy Collapseï¼‰

3. åœºæ™¯ç®¡ç†ä¼˜åŒ–
   - æ”¯æŒåœºæ™¯åˆ‡æ¢è‡ªåŠ¨æ¸…ç†
   - æ”¯æŒå¤šåœºæ™¯åŠ è½½
   - æ”¯æŒåœºæ™¯å¸è½½å›è°ƒ

### 15.2 Component æ± ä¼˜åŒ–

**å½“å‰å®ç°åˆ†æ**

ä¼˜åŠ¿ï¼š
- ç»„ä»¶è·å–æ­£ç¡®
- ç»„ä»¶ç¼“å­˜åˆç†
- ç»„ä»¶é‡ç½®è§„èŒƒ

æ”¹è¿›å»ºè®®ï¼š

1. ç»„ä»¶ç¼“å­˜ä¼˜åŒ–
   - ä½¿ç”¨ GetComponentFast<T>()
   - ç¼“å­˜å¸¸ç”¨ç»„ä»¶ï¼ˆTransform, Rigidbodyï¼‰
   - æ”¯æŒç»„ä»¶é¢„åŠ è½½

2. ç»„ä»¶é‡ç½®ä¼˜åŒ–
   - æ”¯æŒè‡ªå®šä¹‰é‡ç½®é€»è¾‘
   - æ”¯æŒç»„ä»¶çŠ¶æ€ä¿å­˜
   - æ”¯æŒç»„ä»¶çŠ¶æ€æ¢å¤

3. ç»„ä»¶éªŒè¯ä¼˜åŒ–
   - éªŒè¯ç»„ä»¶å®Œæ•´æ€§
   - éªŒè¯ç»„ä»¶ä¾èµ–
   - éªŒè¯ç»„ä»¶é…ç½®

### 15.3 Addressables é›†æˆ

**é›†æˆæ–¹æ¡ˆ**

åˆ›å»º AddressablePool<T>ï¼š
```
AddressablePool<T> (æ–°å¢)
â”œâ”€â”€ LoadAsync(AssetReference)
â”œâ”€â”€ InstantiateAsync(AssetReference)
â”œâ”€â”€ ReleaseAsync(T)
â””â”€â”€ UnloadAsync()
```

**å®ç°è¦ç‚¹**

1. å¼‚æ­¥åŠ è½½æ”¯æŒ
   - ä½¿ç”¨ UniTask åŒ…è£…
   - æ”¯æŒåŠ è½½è¿›åº¦
   - æ”¯æŒåŠ è½½å–æ¶ˆ

2. å¼•ç”¨è®¡æ•°ç®¡ç†
   - è·Ÿè¸ªèµ„æºå¼•ç”¨
   - è‡ªåŠ¨é‡Šæ”¾èµ„æº
   - é¿å…èµ„æºæ³„æ¼

3. å†…å­˜ç®¡ç†
   - æ”¯æŒèµ„æºå¸è½½
   - æ”¯æŒå†…å­˜é¢„ç®—
   - æ”¯æŒå†…å­˜ä¼˜åŒ–

### 15.4 UI å·¥å…·åŒ…é›†æˆ

**é›†æˆæ–¹æ¡ˆ**

åˆ›å»º UIToolkitPoolï¼š
```
UIToolkitPool (æ–°å¢)
â”œâ”€â”€ GetVisualElement<T>()
â”œâ”€â”€ ReturnVisualElement<T>()
â”œâ”€â”€ CloneTree(VisualTreeAsset)
â””â”€â”€ Clear()
```

**å®ç°è¦ç‚¹**

1. VisualElement æ± åŒ–
   - æ”¯æŒ VisualElement å¤ç”¨
   - æ”¯æŒæ ·å¼é‡ç½®
   - æ”¯æŒäº‹ä»¶æ¸…ç†

2. VisualTreeAsset ç®¡ç†
   - æ”¯æŒæ¨¡æ¿å…‹éš†
   - æ”¯æŒæ¨¡æ¿ç¼“å­˜
   - æ”¯æŒæ¨¡æ¿å¸è½½

3. æ ·å¼ç®¡ç†
   - æ”¯æŒæ ·å¼é‡ç½®
   - æ”¯æŒæ ·å¼ç¼“å­˜
   - æ”¯æŒæ ·å¼åˆ‡æ¢

---

## ğŸ”§ ç¬¬åå…­éƒ¨åˆ†ï¼šé…ç½®ç®¡ç†ç³»ç»Ÿ

### 16.1 é…ç½®ç±»è®¾è®¡

**PoolConfiguration<T> è®¾è®¡**

```
PoolConfiguration<T> (æ–°å¢)
â”œâ”€â”€ Capacity (å®¹é‡é…ç½®)
â”‚   â”œâ”€â”€ InitialCapacity
â”‚   â”œâ”€â”€ MaxCapacity
â”‚   â”œâ”€â”€ MinCapacity
â”‚   â””â”€â”€ GrowthFactor
â”œâ”€â”€ Policies (ç­–ç•¥é…ç½®)
â”‚   â”œâ”€â”€ CreationPolicy
â”‚   â”œâ”€â”€ CleanupPolicy
â”‚   â”œâ”€â”€ CapacityPolicy
â”‚   â””â”€â”€ LifecyclePolicy
â”œâ”€â”€ Performance (æ€§èƒ½é…ç½®)
â”‚   â”œâ”€â”€ EnableDiagnostics
â”‚   â”œâ”€â”€ EnableStatistics
â”‚   â”œâ”€â”€ EnableLeakDetection
â”‚   â””â”€â”€ ThreadSafetyMode
â”œâ”€â”€ Warmup (é¢„çƒ­é…ç½®)
â”‚   â”œâ”€â”€ WarmupCount
â”‚   â”œâ”€â”€ WarmupMode
â”‚   â””â”€â”€ WarmupDelay
â””â”€â”€ Advanced (é«˜çº§é…ç½®)
    â”œâ”€â”€ EnableEvents
    â”œâ”€â”€ EnableAsync
    â””â”€â”€ CustomSettings
```

### 16.2 é…ç½®åŠ è½½æ–¹å¼

**æ–¹å¼ 1: ä»£ç é…ç½®**

```
var config = new PoolConfiguration<Enemy>
{
    Capacity = new CapacityConfig
    {
        InitialCapacity = 10,
        MaxCapacity = 100
    },
    Policies = new PolicyConfig
    {
        CreationPolicy = new FactoryCreationPolicy<Enemy>(factory)
    }
};
```

**æ–¹å¼ 2: JSON é…ç½®**

```json
{
  "capacity": {
    "initialCapacity": 10,
    "maxCapacity": 100
  },
  "policies": {
    "creationPolicy": "Factory",
    "cleanupPolicy": "Timed"
  }
}
```

**æ–¹å¼ 3: ScriptableObject é…ç½®**

```
[CreateAssetMenu]
public class PoolConfigAsset : ScriptableObject
{
    public int initialCapacity = 10;
    public int maxCapacity = 100;
    // ...
}
```

### 16.3 é…ç½®éªŒè¯

**éªŒè¯è§„åˆ™**

1. å®¹é‡éªŒè¯
   - InitialCapacity <= MaxCapacity
   - MinCapacity >= 0
   - GrowthFactor > 1.0

2. ç­–ç•¥éªŒè¯
   - CreationPolicy ä¸ä¸º null
   - ç­–ç•¥ç»„åˆæœ‰æ•ˆ
   - ç­–ç•¥é…ç½®æ­£ç¡®

3. æ€§èƒ½éªŒè¯
   - è¯Šæ–­å¼€é”€å¯æ¥å—
   - çº¿ç¨‹å®‰å…¨æ¨¡å¼æ­£ç¡®
   - å†…å­˜é¢„ç®—åˆç†

**éªŒè¯å®ç°**

```
IConfigurationValidator (æ–°å¢)
â”œâ”€â”€ Validate(PoolConfiguration<T>)
â”œâ”€â”€ ValidateCapacity()
â”œâ”€â”€ ValidatePolicies()
â””â”€â”€ ValidatePerformance()
```

---

## ğŸ“Š ç¬¬åä¸ƒéƒ¨åˆ†ï¼šç»Ÿè®¡ä¸æŠ¥å‘Šç³»ç»Ÿ

### 17.1 ç»Ÿè®¡æŒ‡æ ‡æ‰©å±•

**åŸºç¡€æŒ‡æ ‡ï¼ˆå·²æœ‰ï¼‰**
- TotalGets, TotalReturns
- TotalCreates, TotalDestroys
- HitRate, MissRate

**æ‰©å±•æŒ‡æ ‡ï¼ˆå»ºè®®æ–°å¢ï¼‰**

1. å»¶è¿ŸæŒ‡æ ‡
   - AverageGetLatency
   - P50GetLatency, P95GetLatency, P99GetLatency
   - AverageReturnLatency
   - P50ReturnLatency, P95ReturnLatency, P99ReturnLatency

2. ç”Ÿå‘½å‘¨æœŸæŒ‡æ ‡
   - AverageObjectLifetime
   - MinObjectLifetime, MaxObjectLifetime
   - ObjectReuseCount
   - ObjectAgeDistribution

3. å®¹é‡æŒ‡æ ‡
   - CapacityUtilization
   - PeakCapacity
   - AverageCapacity
   - CapacityGrowthRate

4. é”™è¯¯æŒ‡æ ‡
   - CreationFailureRate
   - ReturnFailureRate
   - LeakRate
   - ExceptionRate

### 17.2 æŠ¥å‘Šç”Ÿæˆç³»ç»Ÿ

**æŠ¥å‘Šç±»å‹**

1. å®æ—¶æŠ¥å‘Š
   - å½“å‰çŠ¶æ€å¿«ç…§
   - å®æ—¶æ€§èƒ½æŒ‡æ ‡
   - å®æ—¶å‘Šè­¦ä¿¡æ¯

2. å†å²æŠ¥å‘Š
   - æ—¶é—´åºåˆ—æ•°æ®
   - è¶‹åŠ¿åˆ†æ
   - å¯¹æ¯”åˆ†æ

3. è¯Šæ–­æŠ¥å‘Š
   - æ³„æ¼æ£€æµ‹ç»“æœ
   - æ€§èƒ½ç“¶é¢ˆåˆ†æ
   - ä¼˜åŒ–å»ºè®®

**æŠ¥å‘Šæ ¼å¼**

1. æ–‡æœ¬æŠ¥å‘Š
   - çº¯æ–‡æœ¬æ ¼å¼
   - Markdown æ ¼å¼
   - CSV æ ¼å¼

2. å¯è§†åŒ–æŠ¥å‘Š
   - HTML æŠ¥å‘Š
   - å›¾è¡¨æŠ¥å‘Š
   - ä»ªè¡¨ç›˜

3. ç»“æ„åŒ–æŠ¥å‘Š
   - JSON æ ¼å¼
   - XML æ ¼å¼
   - Protocol Buffers

### 17.3 æŠ¥å‘Šå¯¼å‡º

**å¯¼å‡ºæ¥å£**

```
IReportExporter (æ–°å¢)
â”œâ”€â”€ ExportText(Report)
â”œâ”€â”€ ExportHtml(Report)
â”œâ”€â”€ ExportJson(Report)
â””â”€â”€ ExportCsv(Report)
```

**å¯¼å‡ºé…ç½®**

```
ReportExportConfig (æ–°å¢)
â”œâ”€â”€ Format (å¯¼å‡ºæ ¼å¼)
â”œâ”€â”€ Destination (å¯¼å‡ºç›®æ ‡)
â”œâ”€â”€ Compression (æ˜¯å¦å‹ç¼©)
â””â”€â”€ Encryption (æ˜¯å¦åŠ å¯†)
```

---

## ğŸ“ ç¬¬åå…«éƒ¨åˆ†ï¼šä½¿ç”¨åœºæ™¯ä¸æœ€ä½³å®è·µ

### 18.1 å¸¸è§ä½¿ç”¨åœºæ™¯

**åœºæ™¯ 1: å­å¼¹æ± **

ç‰¹ç‚¹ï¼š
- é«˜é¢‘åˆ›å»ºé”€æ¯
- ç”Ÿå‘½å‘¨æœŸçŸ­
- æ•°é‡å¤§

æœ€ä½³å®è·µï¼š
- ä½¿ç”¨ StackObjectPool<T>ï¼ˆLIFOï¼‰
- åˆå§‹å®¹é‡è®¾ç½®ä¸ºå³°å€¼çš„ 80%
- å¯ç”¨å¯¹è±¡æ± é¢„çƒ­
- ç¦ç”¨æ³„æ¼æ£€æµ‹ï¼ˆæ€§èƒ½ä¼˜å…ˆï¼‰

**åœºæ™¯ 2: æ•Œäººæ± **

ç‰¹ç‚¹ï¼š
- ä¸­é¢‘åˆ›å»ºé”€æ¯
- ç”Ÿå‘½å‘¨æœŸä¸­ç­‰
- æ•°é‡ä¸­ç­‰

æœ€ä½³å®è·µï¼š
- ä½¿ç”¨ ObjectPool<T>
- åˆå§‹å®¹é‡è®¾ç½®ä¸ºå¹³å‡å€¼
- å¯ç”¨è‡ªé€‚åº”å®¹é‡ç­–ç•¥
- å¯ç”¨ç»Ÿè®¡å’Œè¯Šæ–­

**åœºæ™¯ 3: UI å…ƒç´ æ± **

ç‰¹ç‚¹ï¼š
- ä½é¢‘åˆ›å»ºé”€æ¯
- ç”Ÿå‘½å‘¨æœŸé•¿
- æ•°é‡å°‘

æœ€ä½³å®è·µï¼š
- ä½¿ç”¨ QueueObjectPool<T>ï¼ˆFIFOï¼‰
- åˆå§‹å®¹é‡è®¾ç½®ä¸ºæœ€å¤§å€¼
- å¯ç”¨ç©ºé—²æ¸…ç†ç­–ç•¥
- å¯ç”¨å®Œæ•´è¯Šæ–­


**åœºæ™¯ 4: ç²’å­ç‰¹æ•ˆæ± **

ç‰¹ç‚¹ï¼š
- é«˜é¢‘åˆ›å»ºé”€æ¯
- ç”Ÿå‘½å‘¨æœŸæçŸ­
- æ•°é‡æå¤§

æœ€ä½³å®è·µï¼š
- ä½¿ç”¨ GameObjectPool
- ä½¿ç”¨å¯¹è±¡æ± æ± ï¼ˆPool of Poolsï¼‰
- å¯ç”¨åˆ†å¸§é¢„çƒ­
- ä½¿ç”¨æ— é”æ¨¡å¼ï¼ˆé«˜å¹¶å‘ï¼‰

**åœºæ™¯ 5: ç½‘ç»œæ¶ˆæ¯æ± **

ç‰¹ç‚¹ï¼š
- æé«˜é¢‘åˆ›å»ºé”€æ¯
- ç”Ÿå‘½å‘¨æœŸæçŸ­
- çº¿ç¨‹å®‰å…¨è¦æ±‚é«˜

æœ€ä½³å®è·µï¼š
- ä½¿ç”¨ ArrayPool<byte>
- ä½¿ç”¨çº¿ç¨‹æœ¬åœ°å­˜å‚¨
- ç¦ç”¨æ‰€æœ‰è¯Šæ–­ï¼ˆæè‡´æ€§èƒ½ï¼‰
- ä½¿ç”¨é¢„åˆ†é…å†…å­˜

### 18.2 æ€§èƒ½è°ƒä¼˜æœ€ä½³å®è·µ

**è°ƒä¼˜æ­¥éª¤**

1. æ€§èƒ½åˆ†æ
   - ä½¿ç”¨ Unity Profiler åˆ†æ
   - è¯†åˆ«æ€§èƒ½ç“¶é¢ˆ
   - ç¡®å®šä¼˜åŒ–ç›®æ ‡

2. å®¹é‡è°ƒä¼˜
   - åˆ†æå³°å€¼å®¹é‡
   - è°ƒæ•´åˆå§‹å®¹é‡
   - é…ç½®å®¹é‡ç­–ç•¥

3. ç­–ç•¥è°ƒä¼˜
   - é€‰æ‹©åˆé€‚çš„åˆ›å»ºç­–ç•¥
   - é…ç½®æ¸…ç†ç­–ç•¥
   - ä¼˜åŒ–ç”Ÿå‘½å‘¨æœŸç­–ç•¥

4. å¹¶å‘è°ƒä¼˜
   - åˆ†æé”ç«äº‰
   - é€‰æ‹©åˆé€‚çš„çº¿ç¨‹å®‰å…¨æ¨¡å¼
   - è€ƒè™‘æ— é”æ•°æ®ç»“æ„

5. å†…å­˜è°ƒä¼˜
   - åˆ†æå†…å­˜åˆ†é…
   - å‡å°‘ GC å‹åŠ›
   - ä¼˜åŒ–æ•°æ®ç»“æ„

**è°ƒä¼˜æ£€æŸ¥æ¸…å•**

- [ ] åˆå§‹å®¹é‡æ˜¯å¦åˆç†ï¼Ÿ
- [ ] æœ€å¤§å®¹é‡æ˜¯å¦è¶³å¤Ÿï¼Ÿ
- [ ] åˆ›å»ºç­–ç•¥æ˜¯å¦é«˜æ•ˆï¼Ÿ
- [ ] æ¸…ç†ç­–ç•¥æ˜¯å¦åŠæ—¶ï¼Ÿ
- [ ] æ˜¯å¦å¯ç”¨äº†ä¸å¿…è¦çš„è¯Šæ–­ï¼Ÿ
- [ ] çº¿ç¨‹å®‰å…¨æ¨¡å¼æ˜¯å¦åˆé€‚ï¼Ÿ
- [ ] æ˜¯å¦å­˜åœ¨å†…å­˜æ³„æ¼ï¼Ÿ
- [ ] æ˜¯å¦å­˜åœ¨é”ç«äº‰ï¼Ÿ

### 18.3 å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

**é—®é¢˜ 1: å†…å­˜æ³„æ¼**

ç—‡çŠ¶ï¼š
- å†…å­˜æŒç»­å¢é•¿
- å¯¹è±¡æ— æ³•å›æ”¶
- æ³„æ¼æ£€æµ‹å™¨æŠ¥è­¦

è§£å†³æ–¹æ¡ˆï¼š
- æ£€æŸ¥å¯¹è±¡å½’è¿˜é€»è¾‘
- å¯ç”¨æ³„æ¼æ£€æµ‹
- ä½¿ç”¨å¼±å¼•ç”¨è¿½è¸ª
- å®šæœŸæ¸…ç†ç©ºé—²å¯¹è±¡

**é—®é¢˜ 2: æ€§èƒ½ä¸‹é™**

ç—‡çŠ¶ï¼š
- è·å–å»¶è¿Ÿå¢åŠ 
- å¸§ç‡ä¸‹é™
- CPU å ç”¨é«˜

è§£å†³æ–¹æ¡ˆï¼š
- åˆ†ææ€§èƒ½ç“¶é¢ˆ
- ä¼˜åŒ–çƒ­è·¯å¾„
- å‡å°‘é”ç«äº‰
- ç¦ç”¨ä¸å¿…è¦çš„è¯Šæ–­

**é—®é¢˜ 3: å®¹é‡ä¸è¶³**

ç—‡çŠ¶ï¼š
- é¢‘ç¹åˆ›å»ºå¯¹è±¡
- å‘½ä¸­ç‡ä½
- å®¹é‡å‘Šè­¦

è§£å†³æ–¹æ¡ˆï¼š
- å¢åŠ åˆå§‹å®¹é‡
- è°ƒæ•´å®¹é‡ç­–ç•¥
- å¯ç”¨è‡ªé€‚åº”å®¹é‡
- åˆ†æå³°å€¼éœ€æ±‚

**é—®é¢˜ 4: å¯¹è±¡çŠ¶æ€é”™è¯¯**

ç—‡çŠ¶ï¼š
- å¯¹è±¡çŠ¶æ€ä¸æ­£ç¡®
- å¯¹è±¡è¡Œä¸ºå¼‚å¸¸
- é€»è¾‘é”™è¯¯

è§£å†³æ–¹æ¡ˆï¼š
- æ£€æŸ¥é‡ç½®é€»è¾‘
- å®ç° IPooledObject æ¥å£
- æ·»åŠ çŠ¶æ€éªŒè¯
- ä½¿ç”¨å¯¹è±¡éªŒè¯å™¨

**é—®é¢˜ 5: çº¿ç¨‹å®‰å…¨é—®é¢˜**

ç—‡çŠ¶ï¼š
- å¶å‘æ€§å´©æºƒ
- æ•°æ®ä¸ä¸€è‡´
- æ­»é”

è§£å†³æ–¹æ¡ˆï¼š
- æ£€æŸ¥çº¿ç¨‹å®‰å…¨æ¨¡å¼
- ä½¿ç”¨æ­£ç¡®çš„é”ç­–ç•¥
- é¿å…åµŒå¥—é”
- ä½¿ç”¨çº¿ç¨‹å®‰å…¨æ•°æ®ç»“æ„

---

## ğŸ” ç¬¬åä¹éƒ¨åˆ†ï¼šä»£ç å®¡æŸ¥æ£€æŸ¥æ¸…å•

### 19.1 æ¶æ„å±‚é¢æ£€æŸ¥

**è®¾è®¡åŸåˆ™**
- [ ] æ˜¯å¦éµå¾ª SOLID åŸåˆ™ï¼Ÿ
- [ ] æ˜¯å¦éµå¾ªå•ä¸€èŒè´£åŸåˆ™ï¼Ÿ
- [ ] æ˜¯å¦éµå¾ªå¼€é—­åŸåˆ™ï¼Ÿ
- [ ] æ˜¯å¦éµå¾ªé‡Œæ°æ›¿æ¢åŸåˆ™ï¼Ÿ
- [ ] æ˜¯å¦éµå¾ªæ¥å£éš”ç¦»åŸåˆ™ï¼Ÿ
- [ ] æ˜¯å¦éµå¾ªä¾èµ–å€’ç½®åŸåˆ™ï¼Ÿ

**è®¾è®¡æ¨¡å¼**
- [ ] è®¾è®¡æ¨¡å¼ä½¿ç”¨æ˜¯å¦æ°å½“ï¼Ÿ
- [ ] æ˜¯å¦å­˜åœ¨è¿‡åº¦è®¾è®¡ï¼Ÿ
- [ ] æ˜¯å¦å­˜åœ¨è®¾è®¡ä¸è¶³ï¼Ÿ
- [ ] æ¨¡å¼ç»„åˆæ˜¯å¦åˆç†ï¼Ÿ

**æ¨¡å—åŒ–**
- [ ] æ¨¡å—åˆ’åˆ†æ˜¯å¦æ¸…æ™°ï¼Ÿ
- [ ] æ¨¡å—è€¦åˆæ˜¯å¦æ¾æ•£ï¼Ÿ
- [ ] æ¨¡å—å†…èšæ˜¯å¦ç´§å¯†ï¼Ÿ
- [ ] æ¨¡å—æ¥å£æ˜¯å¦ç¨³å®šï¼Ÿ

### 19.2 ä»£ç å±‚é¢æ£€æŸ¥

**å‘½åè§„èŒƒ**
- [ ] å‘½åæ˜¯å¦æ¸…æ™°è¡¨æ„ï¼Ÿ
- [ ] å‘½åæ˜¯å¦éµå¾ªè§„èŒƒï¼Ÿ
- [ ] å‘½åæ˜¯å¦ä¸€è‡´ï¼Ÿ
- [ ] ç¼©å†™æ˜¯å¦åˆç†ï¼Ÿ

**ä»£ç ç»„ç»‡**
- [ ] ä»£ç ç»“æ„æ˜¯å¦æ¸…æ™°ï¼Ÿ
- [ ] ä»£ç åˆ†ç»„æ˜¯å¦åˆç†ï¼Ÿ
- [ ] ä»£ç é¡ºåºæ˜¯å¦ä¸€è‡´ï¼Ÿ
- [ ] ä»£ç é•¿åº¦æ˜¯å¦é€‚ä¸­ï¼Ÿ

**æ³¨é‡Šæ–‡æ¡£**
- [ ] XML æ³¨é‡Šæ˜¯å¦å®Œæ•´ï¼Ÿ
- [ ] æ³¨é‡Šæ˜¯å¦å‡†ç¡®ï¼Ÿ
- [ ] æ³¨é‡Šæ˜¯å¦å¿…è¦ï¼Ÿ
- [ ] ç¤ºä¾‹æ˜¯å¦å……åˆ†ï¼Ÿ

**å¼‚å¸¸å¤„ç†**
- [ ] å¼‚å¸¸ç±»å‹æ˜¯å¦æ­£ç¡®ï¼Ÿ
- [ ] å¼‚å¸¸ä¿¡æ¯æ˜¯å¦è¯¦ç»†ï¼Ÿ
- [ ] å¼‚å¸¸å¤„ç†æ˜¯å¦å®Œå–„ï¼Ÿ
- [ ] èµ„æºé‡Šæ”¾æ˜¯å¦æ­£ç¡®ï¼Ÿ

### 19.3 æ€§èƒ½å±‚é¢æ£€æŸ¥

**å†…å­˜ç®¡ç†**
- [ ] æ˜¯å¦å­˜åœ¨å†…å­˜æ³„æ¼ï¼Ÿ
- [ ] æ˜¯å¦å­˜åœ¨ä¸å¿…è¦çš„åˆ†é…ï¼Ÿ
- [ ] æ˜¯å¦æ­£ç¡®ä½¿ç”¨å¯¹è±¡æ± ï¼Ÿ
- [ ] GC å‹åŠ›æ˜¯å¦å¯æ¥å—ï¼Ÿ

**CPU ä¼˜åŒ–**
- [ ] çƒ­è·¯å¾„æ˜¯å¦ä¼˜åŒ–ï¼Ÿ
- [ ] æ˜¯å¦å­˜åœ¨ä¸å¿…è¦çš„è®¡ç®—ï¼Ÿ
- [ ] ç®—æ³•å¤æ‚åº¦æ˜¯å¦åˆç†ï¼Ÿ
- [ ] æ˜¯å¦ä½¿ç”¨äº†ç¼“å­˜ï¼Ÿ

**å¹¶å‘æ€§èƒ½**
- [ ] çº¿ç¨‹å®‰å…¨æ˜¯å¦æ­£ç¡®ï¼Ÿ
- [ ] é”ç²’åº¦æ˜¯å¦åˆç†ï¼Ÿ
- [ ] æ˜¯å¦å­˜åœ¨é”ç«äº‰ï¼Ÿ
- [ ] æ˜¯å¦å­˜åœ¨æ­»é”é£é™©ï¼Ÿ

### 19.4 æµ‹è¯•å±‚é¢æ£€æŸ¥

**å•å…ƒæµ‹è¯•**
- [ ] æµ‹è¯•è¦†ç›–ç‡æ˜¯å¦è¶³å¤Ÿï¼Ÿ
- [ ] æµ‹è¯•ç”¨ä¾‹æ˜¯å¦å®Œæ•´ï¼Ÿ
- [ ] è¾¹ç•Œæ¡ä»¶æ˜¯å¦æµ‹è¯•ï¼Ÿ
- [ ] å¼‚å¸¸æƒ…å†µæ˜¯å¦æµ‹è¯•ï¼Ÿ

**é›†æˆæµ‹è¯•**
- [ ] é›†æˆæµ‹è¯•æ˜¯å¦å®Œæ•´ï¼Ÿ
- [ ] ä¾èµ–æ³¨å…¥æ˜¯å¦æµ‹è¯•ï¼Ÿ
- [ ] Unity é›†æˆæ˜¯å¦æµ‹è¯•ï¼Ÿ
- [ ] å¤šåœºæ™¯æ˜¯å¦æµ‹è¯•ï¼Ÿ

**æ€§èƒ½æµ‹è¯•**
- [ ] æ€§èƒ½åŸºå‡†æ˜¯å¦å»ºç«‹ï¼Ÿ
- [ ] å‹åŠ›æµ‹è¯•æ˜¯å¦é€šè¿‡ï¼Ÿ
- [ ] å¹¶å‘æµ‹è¯•æ˜¯å¦é€šè¿‡ï¼Ÿ
- [ ] å†…å­˜æµ‹è¯•æ˜¯å¦é€šè¿‡ï¼Ÿ

---

## ğŸš€ ç¬¬äºŒåéƒ¨åˆ†ï¼šå®æ–½æŒ‡å—

### 20.1 æ”¹è¿›å®æ–½æµç¨‹

**é˜¶æ®µ 1: å‡†å¤‡é˜¶æ®µï¼ˆ1 å‘¨ï¼‰**

ä»»åŠ¡ï¼š
1. ç»„å»ºæ”¹è¿›å›¢é˜Ÿ
2. åˆ¶å®šè¯¦ç»†è®¡åˆ’
3. å‡†å¤‡å¼€å‘ç¯å¢ƒ
4. å»ºç«‹ä»£ç ä»“åº“

äº¤ä»˜ç‰©ï¼š
- æ”¹è¿›è®¡åˆ’æ–‡æ¡£
- å›¢é˜Ÿåˆ†å·¥è¡¨
- å¼€å‘ç¯å¢ƒé…ç½®
- ä»£ç ä»“åº“åœ°å€

**é˜¶æ®µ 2: åŸºç¡€æ”¹è¿›ï¼ˆ2 å‘¨ï¼‰**

ä»»åŠ¡ï¼š
1. å®ç°å¼‚æ­¥æ”¯æŒ
2. å®ç°äº‹ä»¶ç³»ç»Ÿ
3. å®ç°é…ç½®ç®¡ç†
4. å®Œå–„ä»£ç æ³¨é‡Š

äº¤ä»˜ç‰©ï¼š
- å¼‚æ­¥æ¥å£å’Œå®ç°
- äº‹ä»¶ç³»ç»Ÿå®ç°
- é…ç½®ç®¡ç†ç±»
- æ›´æ–°çš„æ–‡æ¡£

**é˜¶æ®µ 3: ç­–ç•¥å¢å¼ºï¼ˆ3 å‘¨ï¼‰**

ä»»åŠ¡ï¼š
1. å®ç°é«˜çº§åˆ›å»ºç­–ç•¥
2. å®ç°é«˜çº§æ¸…ç†ç­–ç•¥
3. å®ç°é«˜çº§å®¹é‡ç­–ç•¥
4. ç¼–å†™ç­–ç•¥ç¤ºä¾‹

äº¤ä»˜ç‰©ï¼š
- é«˜çº§ç­–ç•¥å®ç°
- ç­–ç•¥ç»„åˆç¤ºä¾‹
- ç­–ç•¥æ–‡æ¡£

**é˜¶æ®µ 4: è¯Šæ–­å¢å¼ºï¼ˆ3 å‘¨ï¼‰**

ä»»åŠ¡ï¼š
1. å¢å¼ºç»Ÿè®¡ä¿¡æ¯
2. å¢å¼ºæ³„æ¼æ£€æµ‹
3. å¢å¼ºæ€§èƒ½åˆ†æ
4. å®ç°æŠ¥å‘Šç”Ÿæˆ

äº¤ä»˜ç‰©ï¼š
- å¢å¼ºçš„è¯Šæ–­å·¥å…·
- æŠ¥å‘Šç”Ÿæˆå™¨
- è¯Šæ–­æ–‡æ¡£

**é˜¶æ®µ 5: æ€§èƒ½ä¼˜åŒ–ï¼ˆ3 å‘¨ï¼‰**

ä»»åŠ¡ï¼š
1. å®ç°å¹¶å‘ä¼˜åŒ–
2. å®ç°å†…å­˜ä¼˜åŒ–
3. å®ç°é¢„çƒ­ä¼˜åŒ–
4. æ€§èƒ½åŸºå‡†æµ‹è¯•

äº¤ä»˜ç‰©ï¼š
- ä¼˜åŒ–çš„å®ç°
- æ€§èƒ½åŸºå‡†æŠ¥å‘Š
- ä¼˜åŒ–æŒ‡å—

**é˜¶æ®µ 6: æµ‹è¯•å®Œå–„ï¼ˆ2 å‘¨ï¼‰**

ä»»åŠ¡ï¼š
1. ç¼–å†™å•å…ƒæµ‹è¯•
2. ç¼–å†™é›†æˆæµ‹è¯•
3. ç¼–å†™æ€§èƒ½æµ‹è¯•
4. æµ‹è¯•è¦†ç›–ç‡åˆ†æ

äº¤ä»˜ç‰©ï¼š
- å®Œæ•´çš„æµ‹è¯•å¥—ä»¶
- æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
- æµ‹è¯•æ–‡æ¡£

**é˜¶æ®µ 7: æ–‡æ¡£å®Œå–„ï¼ˆ1 å‘¨ï¼‰**

ä»»åŠ¡ï¼š
1. ç¼–å†™ä½¿ç”¨æŒ‡å—
2. ç¼–å†™ API æ–‡æ¡£
3. ç¼–å†™æœ€ä½³å®è·µ
4. ç¼–å†™æ•…éšœæ’é™¤

äº¤ä»˜ç‰©ï¼š
- å®Œæ•´çš„æ–‡æ¡£é›†
- ç¤ºä¾‹ä»£ç 
- FAQ æ–‡æ¡£

**é˜¶æ®µ 8: å‘å¸ƒå‡†å¤‡ï¼ˆ1 å‘¨ï¼‰**

ä»»åŠ¡ï¼š
1. ä»£ç å®¡æŸ¥
2. æ€§èƒ½éªŒè¯
3. æ–‡æ¡£å®¡æŸ¥
4. å‘å¸ƒå‡†å¤‡

äº¤ä»˜ç‰©ï¼š
- å®¡æŸ¥æŠ¥å‘Š
- éªŒè¯æŠ¥å‘Š
- å‘å¸ƒè¯´æ˜
- å‘å¸ƒåŒ…

### 20.2 è´¨é‡ä¿è¯æªæ–½

**ä»£ç è´¨é‡ä¿è¯**

1. ä»£ç å®¡æŸ¥
   - æ¯ä¸ª PR è‡³å°‘ 2 äººå®¡æŸ¥
   - ä½¿ç”¨ä»£ç å®¡æŸ¥æ£€æŸ¥æ¸…å•
   - è®°å½•å®¡æŸ¥æ„è§å’Œæ”¹è¿›

2. é™æ€åˆ†æ
   - ä½¿ç”¨ Roslyn åˆ†æå™¨
   - ä½¿ç”¨ SonarQube åˆ†æ
   - ä¿®å¤æ‰€æœ‰è­¦å‘Š

3. ä»£ç è§„èŒƒ
   - ä½¿ç”¨ .editorconfig é…ç½®
   - ä½¿ç”¨ä»£ç æ ¼å¼åŒ–å·¥å…·
   - ç»Ÿä¸€ä»£ç é£æ ¼

**æµ‹è¯•è´¨é‡ä¿è¯**

1. æµ‹è¯•è¦†ç›–ç‡
   - å•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 90%
   - é›†æˆæµ‹è¯•è¦†ç›–ç‡ > 80%
   - å…³é”®è·¯å¾„è¦†ç›–ç‡ 100%

2. æµ‹è¯•è´¨é‡
   - æµ‹è¯•ç”¨ä¾‹å®Œæ•´
   - æµ‹è¯•æ–­è¨€å……åˆ†
   - æµ‹è¯•å¯ç»´æŠ¤

3. æŒç»­é›†æˆ
   - è‡ªåŠ¨è¿è¡Œæµ‹è¯•
   - è‡ªåŠ¨ç”ŸæˆæŠ¥å‘Š
   - è‡ªåŠ¨éƒ¨ç½²

**æ–‡æ¡£è´¨é‡ä¿è¯**

1. æ–‡æ¡£å®Œæ•´æ€§
   - API æ–‡æ¡£å®Œæ•´
   - ä½¿ç”¨æŒ‡å—å®Œæ•´
   - ç¤ºä¾‹ä»£ç å®Œæ•´

2. æ–‡æ¡£å‡†ç¡®æ€§
   - æ–‡æ¡£ä¸ä»£ç ä¸€è‡´
   - ç¤ºä¾‹å¯è¿è¡Œ
   - é“¾æ¥æœ‰æ•ˆ

3. æ–‡æ¡£å¯è¯»æ€§
   - ç»“æ„æ¸…æ™°
   - è¯­è¨€ç®€æ´
   - æ ¼å¼è§„èŒƒ

### 20.3 é£é™©ç®¡ç†

**æŠ€æœ¯é£é™©**

é£é™© 1: å¼‚æ­¥å®ç°å¤æ‚
- å½±å“: é«˜
- æ¦‚ç‡: ä¸­
- ç¼“è§£: ä½¿ç”¨æˆç†Ÿçš„ UniTask åº“
- åº”å¯¹: ç®€åŒ–å¼‚æ­¥æ¥å£è®¾è®¡

é£é™© 2: æ€§èƒ½ä¼˜åŒ–å›°éš¾
- å½±å“: ä¸­
- æ¦‚ç‡: ä¸­
- ç¼“è§£: å»ºç«‹æ€§èƒ½åŸºå‡†
- åº”å¯¹: åˆ†é˜¶æ®µä¼˜åŒ–

é£é™© 3: å…¼å®¹æ€§é—®é¢˜
- å½±å“: é«˜
- æ¦‚ç‡: ä½
- ç¼“è§£: å……åˆ†æµ‹è¯•å¤šç‰ˆæœ¬
- åº”å¯¹: æä¾›å…¼å®¹å±‚

**è¿›åº¦é£é™©**

é£é™© 1: å·¥ä½œé‡ä¼°ç®—ä¸å‡†
- å½±å“: ä¸­
- æ¦‚ç‡: é«˜
- ç¼“è§£: é¢„ç•™ç¼“å†²æ—¶é—´
- åº”å¯¹: è°ƒæ•´ä¼˜å…ˆçº§

é£é™© 2: èµ„æºä¸è¶³
- å½±å“: é«˜
- æ¦‚ç‡: ä¸­
- ç¼“è§£: æå‰è§„åˆ’èµ„æº
- åº”å¯¹: å¤–éƒ¨æ”¯æ´

é£é™© 3: éœ€æ±‚å˜æ›´
- å½±å“: ä¸­
- æ¦‚ç‡: ä¸­
- ç¼“è§£: é”å®šæ ¸å¿ƒéœ€æ±‚
- åº”å¯¹: æ•æ·è°ƒæ•´

**è´¨é‡é£é™©**

é£é™© 1: æµ‹è¯•ä¸å……åˆ†
- å½±å“: é«˜
- æ¦‚ç‡: ä¸­
- ç¼“è§£: åˆ¶å®šæµ‹è¯•è®¡åˆ’
- åº”å¯¹: å¢åŠ æµ‹è¯•èµ„æº

é£é™© 2: æ–‡æ¡£ä¸å®Œå–„
- å½±å“: ä¸­
- æ¦‚ç‡: ä¸­
- ç¼“è§£: åŒæ­¥ç¼–å†™æ–‡æ¡£
- åº”å¯¹: ä¸“äººè´Ÿè´£æ–‡æ¡£

é£é™© 3: ä»£ç è´¨é‡ä¸‹é™
- å½±å“: é«˜
- æ¦‚ç‡: ä½
- ç¼“è§£: ä¸¥æ ¼ä»£ç å®¡æŸ¥
- åº”å¯¹: é‡æ„ä¼˜åŒ–

---

## ğŸ“ˆ ç¬¬äºŒåä¸€éƒ¨åˆ†ï¼šæˆåŠŸæŒ‡æ ‡

### 21.1 åŠŸèƒ½æŒ‡æ ‡

**å®Œæˆåº¦æŒ‡æ ‡**
- å¼‚æ­¥æ”¯æŒå®ç°ç‡: 100%
- äº‹ä»¶ç³»ç»Ÿå®ç°ç‡: 100%
- é…ç½®ç®¡ç†å®ç°ç‡: 100%
- é«˜çº§ç­–ç•¥å®ç°ç‡: 100%
- è¯Šæ–­å¢å¼ºå®ç°ç‡: 100%

**è´¨é‡æŒ‡æ ‡**
- å•å…ƒæµ‹è¯•è¦†ç›–ç‡: > 90%
- é›†æˆæµ‹è¯•è¦†ç›–ç‡: > 80%
- ä»£ç å®¡æŸ¥é€šè¿‡ç‡: 100%
- é™æ€åˆ†æé€šè¿‡ç‡: 100%
- æ–‡æ¡£å®Œæ•´ç‡: 100%

### 21.2 æ€§èƒ½æŒ‡æ ‡

**ååé‡æŒ‡æ ‡**
- Get æ“ä½œååé‡: > 1,000,000 ops/s
- Return æ“ä½œååé‡: > 1,000,000 ops/s
- å¹¶å‘ååé‡: > 500,000 ops/s

**å»¶è¿ŸæŒ‡æ ‡**
- å¹³å‡ Get å»¶è¿Ÿ: < 100 ns
- P99 Get å»¶è¿Ÿ: < 1 Î¼s
- å¹³å‡ Return å»¶è¿Ÿ: < 100 ns
- P99 Return å»¶è¿Ÿ: < 1 Î¼s

**èµ„æºæŒ‡æ ‡**
- å†…å­˜å¼€é”€: < 1 MBï¼ˆåŸºç¡€æ± ï¼‰
- GC åˆ†é…: 0 bytesï¼ˆç¨³å®šçŠ¶æ€ï¼‰
- CPU å ç”¨: < 1%ï¼ˆç©ºé—²çŠ¶æ€ï¼‰

### 21.3 ç”¨æˆ·ä½“éªŒæŒ‡æ ‡

**æ˜“ç”¨æ€§æŒ‡æ ‡**
- API å­¦ä¹ æ—¶é—´: < 30 åˆ†é’Ÿ
- é¦–æ¬¡é›†æˆæ—¶é—´: < 1 å°æ—¶
- é—®é¢˜è§£å†³æ—¶é—´: < 10 åˆ†é’Ÿ

**æ»¡æ„åº¦æŒ‡æ ‡**
- ç”¨æˆ·æ»¡æ„åº¦: > 90%
- æ¨èæ„æ„¿: > 85%
- æŒç»­ä½¿ç”¨ç‡: > 95%

**æ”¯æŒæŒ‡æ ‡**
- æ–‡æ¡£æŸ¥é˜…ç‡: > 80%
- é—®é¢˜è‡ªåŠ©è§£å†³ç‡: > 70%
- ç¤¾åŒºæ´»è·ƒåº¦: > 50 æ´»è·ƒç”¨æˆ·

---

## ğŸ“š ç¬¬äºŒåäºŒéƒ¨åˆ†ï¼šå‚è€ƒèµ„æ–™

### 22.1 è®¾è®¡æ¨¡å¼å‚è€ƒ

**ä¹¦ç±**
- ã€Šè®¾è®¡æ¨¡å¼ï¼šå¯å¤ç”¨é¢å‘å¯¹è±¡è½¯ä»¶çš„åŸºç¡€ã€‹ï¼ˆGoFï¼‰
- ã€Šæ¸¸æˆç¼–ç¨‹æ¨¡å¼ã€‹ï¼ˆGame Programming Patternsï¼‰
- ã€Šä¼ä¸šåº”ç”¨æ¶æ„æ¨¡å¼ã€‹ï¼ˆPatterns of Enterprise Application Architectureï¼‰

**åœ¨çº¿èµ„æº**
- Refactoring Guru: https://refactoring.guru/design-patterns
- Game Programming Patterns: https://gameprogrammingpatterns.com/
- Microsoft Docs: https://docs.microsoft.com/patterns/

### 22.2 æ€§èƒ½ä¼˜åŒ–å‚è€ƒ

**ä¹¦ç±**
- ã€ŠC# é«˜æ€§èƒ½ç¼–ç¨‹ã€‹ï¼ˆWriting High-Performance .NET Codeï¼‰
- ã€ŠUnity æ€§èƒ½ä¼˜åŒ–ã€‹ï¼ˆUnity Performance Optimizationï¼‰
- ã€Šå¹¶å‘ç¼–ç¨‹å®æˆ˜ã€‹ï¼ˆConcurrency in Practiceï¼‰

**åœ¨çº¿èµ„æº**
- Unity Performance Best Practices: https://docs.unity3d.com/Manual/BestPracticeGuides.html
- .NET Performance Tips: https://docs.microsoft.com/dotnet/standard/performance/
- Burst Compiler Documentation: https://docs.unity3d.com/Packages/com.unity.burst@latest

### 22.3 æµ‹è¯•å‚è€ƒ

**ä¹¦ç±**
- ã€Šå•å…ƒæµ‹è¯•çš„è‰ºæœ¯ã€‹ï¼ˆThe Art of Unit Testingï¼‰
- ã€Šæµ‹è¯•é©±åŠ¨å¼€å‘ã€‹ï¼ˆTest-Driven Developmentï¼‰
- ã€ŠæŒç»­é›†æˆã€‹ï¼ˆContinuous Integrationï¼‰

**åœ¨çº¿èµ„æº**
- Unity Test Framework: https://docs.unity3d.com/Packages/com.unity.test-framework@latest
- NUnit Documentation: https://docs.nunit.org/
- xUnit Documentation: https://xunit.net/

### 22.4 Unity é›†æˆå‚è€ƒ

**å®˜æ–¹æ–‡æ¡£**
- Unity Scripting API: https://docs.unity3d.com/ScriptReference/
- Unity Manual: https://docs.unity3d.com/Manual/
- Unity Best Practices: https://unity.com/how-to/

**ç¬¬ä¸‰æ–¹èµ„æº**
- UniTask: https://github.com/Cysharp/UniTask
- VContainer: https://github.com/hadashiA/VContainer
- Addressables: https://docs.unity3d.com/Packages/com.unity.addressables@latest

---

## âœ… æ€»ç»“

æœ¬è¡¥å……æ–‡æ¡£è¯¦ç»†åˆ†æäº† AFramework.Pool å¯¹è±¡æ± ç³»ç»Ÿçš„ä»£ç è´¨é‡ï¼Œå¹¶æä¾›äº†å…¨é¢çš„æ”¹è¿›æ–¹æ¡ˆã€‚

**æ ¸å¿ƒæ”¹è¿›æ–¹å‘**
1. å¼‚æ­¥æ”¯æŒï¼šé›†æˆ UniTaskï¼Œæä¾›å®Œæ•´çš„å¼‚æ­¥ API
2. äº‹ä»¶ç³»ç»Ÿï¼šå®ç°ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ï¼Œæ”¯æŒäº‹ä»¶è®¢é˜…
3. é…ç½®ç®¡ç†ï¼šç»Ÿä¸€é…ç½®æ¥å£ï¼Œæ”¯æŒå¤šç§é…ç½®æ–¹å¼
4. ç­–ç•¥å¢å¼ºï¼šæ‰©å±•ç­–ç•¥é€‰é¡¹ï¼Œæ”¯æŒç­–ç•¥ç»„åˆ
5. è¯Šæ–­å¢å¼ºï¼šå®Œå–„è¯Šæ–­å·¥å…·ï¼Œæä¾›è¯¦ç»†æŠ¥å‘Š
6. æ€§èƒ½ä¼˜åŒ–ï¼šå¹¶å‘ä¼˜åŒ–ã€å†…å­˜ä¼˜åŒ–ã€é¢„çƒ­ä¼˜åŒ–
7. æµ‹è¯•å®Œå–„ï¼šæå‡æµ‹è¯•è¦†ç›–ç‡ï¼Œå®Œå–„æµ‹è¯•å¥—ä»¶
8. æ–‡æ¡£å®Œå–„ï¼šç¼–å†™å®Œæ•´æ–‡æ¡£ï¼Œæä¾›ä¸°å¯Œç¤ºä¾‹

**é¢„æœŸæ•ˆæœ**
- åŠŸèƒ½å®Œæ•´æ€§æå‡è‡³ 100%
- ä»£ç è´¨é‡è¯„åˆ†æå‡è‡³ 5.0/5.0
- æ€§èƒ½æŒ‡æ ‡æå‡ 20-50%
- ç”¨æˆ·æ»¡æ„åº¦æå‡è‡³ 90%+

**å®æ–½å»ºè®®**
- æŒ‰é˜¶æ®µå®æ–½ï¼Œä¼˜å…ˆçº§ä»é«˜åˆ°ä½
- ä¸¥æ ¼è´¨é‡ä¿è¯ï¼Œç¡®ä¿æ¯ä¸ªé˜¶æ®µäº¤ä»˜è´¨é‡
- æŒç»­é›†æˆæµ‹è¯•ï¼ŒåŠæ—¶å‘ç°å’Œä¿®å¤é—®é¢˜
- å……åˆ†æ–‡æ¡£è®°å½•ï¼Œä¾¿äºåç»­ç»´æŠ¤å’Œæ‰©å±•

---

**æ–‡æ¡£ç»´æŠ¤**: AFramework å¼€å‘å›¢é˜Ÿ  
**æœ€åæ›´æ–°**: 2026-01-19  
**è®¸å¯è¯**: MIT License
